<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protocolo ALPS</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="./participantes.html">GRUPO I</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="./index.html">Home/introducción</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="./protocolo.html">Protocolo ALPS<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./eventos.html">Eventos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./libreria.html">Librería Libinput</a>
                </li>
            </ul>
        </div>
    </nav>
    <main class="texto">
        <h1 class="titulo">Protocolo ALPS para trackpads</h1><br>
        <p>Actualmente, el controlador del panel táctil ALPS admite siete versiones de protocolo en uso por los paneles táctiles ALPS, llamadas versiones 1, 2, 3, 4, 5, 6, 7 y 8. Aproximadamente desde mediados de 2010, se han lanzado e integrado varios nuevos
            paneles táctiles ALPS en una variedad de portátiles y netbooks. <br> El diseño de las opciones fueron redefinir la tabla alps_model_data, con el riesgo de realizar pruebas de regresión en los dispositivos existentes, o aislar los nuevos dispositivos
            fuera de la tabla alps_model_data. Se hizo la última elección de diseño. Donde las nuevas firmas del panel táctil se denominan: "Rushmore", "Pinnacle" y "Dolphin", que verá en la código alps.c. A los efectos de este documento, este grupo de
            paneles táctiles ALPS se denominará genéricamente “Nuevos paneles táctiles ALPS”. <br>
        </p>
        <h4 class="titulo">Detección</h4>
        <p>Todos los paneles táctiles ALPS deben responder a la secuencia de comandos del “informe E6”: E8-E6-E6-E6-E9. Un ALPS de panel táctil debe responder con 00-00-0A o 00-00-64 si no se presiona ningún botón. Los bits 0-2 del primer byte será 1s si
            se presionan algunos botones. <br>Si el informe E6 es satisfactorio, el modelo de panel táctil se identifica mediante la secuencia "Informe E7": E8-E7-E7-E7-E9. La respuesta es la firma del modelo y se compara con modelos conocidos en el alps_model_data_array.
            <br> Para los paneles táctiles más antiguos que admiten las versiones de protocolo 3 y 4, la firma del modelo de informe E7 es siempre 73-02-64. Para diferenciar estas versiones, la respuesta de la secuencia "Entrar en modo de comando" debe
            inspeccionarse como se describe a continuación. <br> Los nuevos paneles táctiles ALPS tienen una firma E7 de 73-03-50 o 73-03-0A pero parecen estar mejor diferenciados por la respuesta del modo de comando EC.
        </p>
        <h2 class="titulo">Driver Elantech touchpad</h2>
        <p>Un ejemplo de la utilización de los protocolos anteriormente descritos es la creación de un driver específico para el manejo de Touchpad de autoría de Steve Havelka. <br> En primer lugar lo que hace es diferenciar a los trackpads en distintas
            versiones, de la 1 a la 8, donde los números menores son los primeros lanzados al mercado y los mayores, los últimos. Esto es porque las primeras versiones utilizaban paquetes de 4 bytes, pero a medida que los dispositivos fueron evolucionando
            se necesitó más información por paquete, llegando a 6 bytes, donde también se envía información de la posición de múltiples toques (hasta 5), tamaño del trackpad, inhabilitación del dispositivo y todas las nuevas funciones que pide el mercado.
            <br> Además el driver provee de 3 “mandos” o “knobs” que son útiles dependiendo de la versión del hardware, el primero es “debug” para control de la información en casos de prueba, el segundo es “paritychech” para encender o apagar la corrección
            de paquetes para versiones 1 y 2, y por último “crc_enabled” para corrección de paquetes en versiones 3 y 4. <br> A través de la interpretación de los paquetes se accede a la creación de los eventos. <br>
            <h6>Ejemplo para versión 4 del Hardware:</h6> <br> A partir de la 4ta generación se incorpora nativamente el control multitáctil. Apenas el trackpad detecta un toque envía información de cuántos dedos están en contacto, seguido del paquete “head”
            (principal) y el paquete “motion” (de movimiento). El paquete principal contiene la información de la identificación del dedo, su posición exacta en valores x e y, ancho y presión. El paquete de movimiento contiene la posición delta de dos
            dedos. Por ejemplo, cuando el estado del paquete dice que hay dos dedos en el touchpad, entonces podemos esperar dos paquetes principales. Si el estado del dedo no cambia, el siguiente paquete debiera ser un paquete de movimiento, solo enviando
            la información de posición delta, hasta recibir el paquete de estado. Una excepción es el toque individual, que cuando el paquete de estado nos dice si hay un solo dedo en contacto se envía solamente el paquete principal.
        </p>
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" class="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <h6>Paquete de estado</h6>
                    <img src="./images/image5.png" class="d-block w-100" alt="paquete de estado">
                </div>
                <div class="carousel-item">
                    <h6>Paquete de estado</h6>
                    <img src="./images/image6.png" class="d-block w-100" alt="paquete de estado">
                </div>
                <div class="carousel-item">
                    <h6>Paquete principal ("Head")</h6>
                    <img src="./images/image4.png" class="d-block w-100" alt="paquete principal">
                </div>
                <div class="carousel-item">
                    <h6>paquete de movimiento ("Motion package")</h6>
                    <img src="./images/image1.png" class="d-block w-100" alt="Motion package">
                </div>
                <div class="carousel-item">
                    <h6>paquete de movimiento ("Motion package")</h6>
                    <img src="./images/image2.png" class="d-block w-100" alt="Motion package">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-target="#carouselExampleIndicators" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-target="#carouselExampleIndicators" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </button>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
</body>

</html>